(function(e){function t(t){for(var n,i,a=t[0],c=t[1],d=t[2],l=0,u=[];l<a.length;l++)i=a[l],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&u.push(s[i][0]),s[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);p&&p(t);while(u.length)u.shift()();return r.push.apply(r,d||[]),o()}function o(){for(var e,t=0;t<r.length;t++){for(var o=r[t],n=!0,i=1;i<o.length;i++){var a=o[i];0!==s[a]&&(n=!1)}n&&(r.splice(t--,1),e=c(c.s=o[0]))}return e}var n={},i={app:0},s={app:0},r=[];function a(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-1e1b88a9":"af70c181"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.e=function(e){var t=[],o={"chunk-1e1b88a9":1};i[e]?t.push(i[e]):0!==i[e]&&o[e]&&t.push(i[e]=new Promise((function(t,o){for(var n="css/"+({}[e]||e)+"."+{"chunk-1e1b88a9":"ac59aa23"}[e]+".css",s=c.p+n,r=document.getElementsByTagName("link"),a=0;a<r.length;a++){var d=r[a],l=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(l===n||l===s))return t()}var u=document.getElementsByTagName("style");for(a=0;a<u.length;a++){d=u[a],l=d.getAttribute("data-href");if(l===n||l===s)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var n=t&&t.target&&t.target.src||s,r=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=n,delete i[e],p.parentNode.removeChild(p),o(r)},p.href=s;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){i[e]=0})));var n=s[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,o){n=s[e]=[t,o]}));t.push(n[2]=r);var d,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=a(e);var u=new Error;d=function(t){l.onerror=l.onload=null,clearTimeout(p);var o=s[e];if(0!==o){if(o){var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+n+": "+i+")",u.name="ChunkLoadError",u.type=n,u.request=i,o[1](u)}s[e]=void 0}};var p=setTimeout((function(){d({type:"timeout",target:l})}),12e4);l.onerror=l.onload=d,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,o){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(o,n,function(t){return e[t]}.bind(null,n));return o},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/todolist_app_ver2/",c.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],l=d.push.bind(d);d.push=t,d=d.slice();for(var u=0;u<d.length;u++)t(d[u]);var p=l;r.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"06af":function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("div",{attrs:{id:"nav"}},[o("router-link",{attrs:{to:"/"}},[e._v("List of notes")]),o("router-link",{attrs:{to:"/new"}},[e._v("New note")])],1),o("router-view")],1)},s=[],r=(o("5c0b"),o("2877")),a={},c=Object(r["a"])(a,i,s,!1,null,null,null),d=c.exports,l=(o("d3b7"),o("3ca3"),o("ddb0"),o("8c4f")),u=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"home"},[e.notes.length>0?o("NotesList",{attrs:{notes:e.notes}}):o("div",[e._v("It is empty. "),o("router-link",{attrs:{to:"/new"}},[e._v("Create your first note")])],1)],1)},p=[],f=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"notesList"},e._l(e.notes,(function(t,n){return o("div",{key:n,staticClass:"note"},[o("router-link",{attrs:{to:{name:"note",params:{index:n+1}}}},[o("span",{staticClass:"title"},[e._v(e._s(t.title))]),o("div",{staticClass:"date"},[o("span",[e._v(e._s(new Date(t.date).toLocaleDateString()))])]),"todos"==t.type?o("div",{staticClass:"description"},e._l(t.description,(function(t,n){return o("li",{key:n,class:{completed:t.completed}},[e._v(" "+e._s(t.text)+" ")])})),0):o("div",{staticClass:"description"},[e._v(e._s(t.description))])])],1)})),0)},m=[],h=o("53ca"),v=(o("a4d3"),o("e01a"),{props:{notes:Array},data:function(){return{hi:"",test:""}},computed:{typeOfNoteDescription:function(){return Object(h["a"])(this.note.description)}}}),g=v,x=(o("e2d7"),Object(r["a"])(g,f,m,!1,null,"88c85b18",null)),w=x.exports,T={components:{NotesList:w},computed:{notes:function(){return this.$store.getters.notes}}},b=T,y=Object(r["a"])(b,u,p,!1,null,null,null),_=y.exports,I=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.note?o("div",{staticClass:"note"},[e.isModalVisible?o("Modal",{on:{"agree-modal":function(t){return e.agreeModal()},"close-modal":function(t){return e.closeModal()}}},["delete"==e.action?o("p",[e._v('Do you really want to delete note "'+e._s(e.note.title)+'"?')]):e._e(),"deleteTodo"==e.action?o("p",[e._v('Do you really want to delete todo "'+e._s(e.note.description[this.todoIndex].text)+'"?')]):e._e()]):e._e(),o("input",{directives:[{name:"model",rawName:"v-model",value:e.newTitle,expression:"newTitle"},{name:"focus",rawName:"v-focus"}],staticClass:"title",domProps:{value:e.newTitle},on:{blur:function(t){return e.updateTitle()},input:function(t){t.target.composing||(e.newTitle=t.target.value)}}}),"object"==typeof this.note.description?o("div",[o("div",{staticClass:"description"},e._l(e.note.description,(function(t,n){return o("div",{key:n,staticClass:"todoText",class:{completed:t.completed}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.completed,expression:"todo.completed"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.completed)?e._i(t.completed,null)>-1:t.completed},on:{click:function(t){return e.toggleTodo(n)},change:function(o){var n=t.completed,i=o.target,s=!!i.checked;if(Array.isArray(n)){var r=null,a=e._i(n,r);i.checked?a<0&&e.$set(t,"completed",n.concat([r])):a>-1&&e.$set(t,"completed",n.slice(0,a).concat(n.slice(a+1)))}else e.$set(t,"completed",s)}}}),t.editing?o("input",{directives:[{name:"model",rawName:"v-model",value:e.newTodo,expression:"newTodo"},{name:"focus",rawName:"v-focus"}],attrs:{type:"text"},domProps:{value:e.newTodo},on:{blur:function(t){return e.updateTodo(n)},input:function(t){t.target.composing||(e.newTodo=t.target.value)}}}):o("div",{on:{click:function(t){return e.editTodo(n)}}},[e._v(e._s(t.text))]),o("div",{staticClass:"button_del"},[o("button",{on:{click:function(t){return e.doAction("deleteTodo",n)}}},[e._v("Delete")])])])})),0)]):o("div",[o("div",[e.editingDescription?o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newDescription,expression:"newDescription"},{name:"focus",rawName:"v-focus"}],ref:"desc",attrs:{type:"text"},domProps:{value:e.newDescription},on:{blur:function(t){return e.updateDescription()},input:function(t){t.target.composing||(e.newDescription=t.target.value)}}}):o("div",{staticClass:"description",on:{click:function(t){return e.editDescription()}}},[e._v(" "+e._s(e.note.description)+" ")])])]),o("div",{staticClass:"buttons"},["object"==e.typeOfNoteDescription?o("button",{staticClass:"blue",on:{click:e.addNewTodo}},[e._v("Add new todo")]):e._e(),o("button",{staticClass:"red",on:{click:function(t){return e.doAction("delete")}}},[e._v("Delete")])])],1):o("div",[e._v(" This note is not found. "),o("router-link",{attrs:{to:{name:"Home"}}},[e._v(" See list of notes")])],1)},N=[],k=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{ref:"modal",staticClass:"modal",on:{click:function(t){return t.target!==t.currentTarget?null:e.closeModal.apply(null,arguments)}}},[o("div",{staticClass:"content"},[o("i",{staticClass:"fa fa-times close",attrs:{"aria-hidden":"true"},on:{click:e.closeModal}}),o("div",{staticClass:"title"},[o("h1",[e._v("Confirm action")]),e._t("default")],2),o("div",{staticClass:"buttons"},[o("button",{staticClass:"blue",on:{click:e.agreeModal}},[e._v("Yes")]),o("button",{staticClass:"red",on:{click:e.closeModal}},[e._v("No")])])])])},D=[],C={methods:{closeModal:function(){this.$emit("close-modal")},agreeModal:function(){this.$emit("agree-modal")}}},O=C,S=(o("65ea"),Object(r["a"])(O,k,D,!1,null,"377cf4a2",null)),$=S.exports,M={components:{Modal:$},data:function(){return{newTitle:"",newTodo:"",action:"",todoIndex:"",editingDescription:!1,newDescription:"",noteIndex:this.$route.params.index-1,isModalVisible:!1}},mounted:function(){this.note&&(this.newTitle=this.note.title)},computed:{note:function(){return this.$store.getters.notes[this.noteIndex]},typeOfNoteDescription:function(){return Object(h["a"])(this.note.description)}},methods:{toggleTodo:function(e){this.$store.dispatch("updateToggle",{noteIndex:this.noteIndex,todoIndex:e})},updateTitle:function(){this.note.title=this.newTitle,this.$store.dispatch("updateTitle",{noteIndex:this.noteIndex,newTitle:this.newTitle})},editTodo:function(e){this.newTodo=this.note.description[e].text,this.note.description[e].editing=!0},editDescription:function(){var e=this;this.newDescription=this.note.description,this.editingDescription=!0,this.$nextTick((function(){e.$refs.desc.style.height=e.$refs.desc.scrollHeight-12+"px"}))},updateTodo:function(e){1==this.note.description[e].editing&&(this.note.description[e].editing=!1,this.$store.dispatch("updateTodo",{noteIndex:this.noteIndex,todoIndex:e,newTodo:this.newTodo}))},deleteTodo:function(e){this.$store.dispatch("deleteTodo",{noteIndex:this.noteIndex,todoIndex:e})},updateDescription:function(){this.editingDescription=!1,this.$store.dispatch("updateDescription",{noteIndex:this.noteIndex,newDescription:this.newDescription})},addNewTodo:function(){var e={text:"",completed:!1,editing:!1};this.$store.dispatch("addNewTodo",{noteIndex:this.noteIndex,newTodo:e})},deleteNote:function(){this.$store.dispatch("deleteNote",this.noteIndex),this.$router.push("/")},doAction:function(e,t){this.isModalVisible=!0,this.action=e,this.todoIndex=t},closeModal:function(){this.isModalVisible=!1},agreeModal:function(){this.isModalVisible=!1,"delete"==this.action&&this.deleteNote(),"deleteTodo"==this.action&&this.deleteTodo(this.todoIndex)}}},j=M,A=(o("844d"),Object(r["a"])(j,I,N,!1,null,"1c6c7742",null)),E=A.exports;n["a"].use(l["a"]);var P=[{path:"/",name:"Home",component:_},{path:"/new",name:"new",component:function(){return o.e("chunk-1e1b88a9").then(o.bind(null,"67bf"))}},{path:"/:index",name:"note",component:E},{path:"/*/",name:"note found",redirect:{name:"Home"}}],J=new l["a"]({mode:"history",base:"/todolist_app_ver2/",routes:P}),L=J,H=(o("a434"),o("2f62"));n["a"].use(H["a"]);var V=new H["a"].Store({state:{notes:JSON.parse(localStorage.notes||"[]")},mutations:{createNote:function(e,t){e.notes.push(t),localStorage.notes=JSON.stringify(e.notes)},updateToggle:function(e,t){var o=t.noteIndex,n=t.todoIndex;e.notes[o].description[n].completed=!e.notes[o].description[n].completed,localStorage.notes=JSON.stringify(e.notes)},updateTitle:function(e,t){var o=t.noteIndex,n=t.newTitle;e.notes[o].title=n,localStorage.notes=JSON.stringify(e.notes)},updateTodo:function(e,t){var o=t.noteIndex,n=t.todoIndex,i=t.newTodo;e.notes[o].description[n].text=i,localStorage.notes=JSON.stringify(e.notes)},updateDescription:function(e,t){var o=t.noteIndex,n=t.newDescription;e.notes[o].description=n,localStorage.notes=JSON.stringify(e.notes)},deleteTodo:function(e,t){var o=t.noteIndex,n=t.todoIndex;e.notes[o].description.splice(n,1),localStorage.notes=JSON.stringify(e.notes)},deleteNote:function(e,t){e.notes.splice(t,1),localStorage.notes=JSON.stringify(e.notes)},addNewTodo:function(e,t){var o=t.noteIndex,n=t.newTodo;e.notes[o].description.push(n),localStorage.notes=JSON.stringify(e.notes)}},actions:{createNote:function(e,t){var o=e.commit;o("createNote",t)},updateToggle:function(e,t){var o=e.commit,n=t.noteIndex,i=t.todoIndex;o("updateToggle",{noteIndex:n,todoIndex:i})},updateTitle:function(e,t){var o=e.commit,n=t.noteIndex,i=t.newTitle;o("updateTitle",{noteIndex:n,newTitle:i})},updateTodo:function(e,t){var o=e.commit,n=t.noteIndex,i=t.todoIndex,s=t.newTodo;o("updateTodo",{noteIndex:n,todoIndex:i,newTodo:s})},updateDescription:function(e,t){var o=e.commit,n=t.noteIndex,i=t.newDescription;o("updateDescription",{noteIndex:n,newDescription:i})},deleteTodo:function(e,t){var o=e.commit,n=t.noteIndex,i=t.todoIndex;o("deleteTodo",{noteIndex:n,todoIndex:i})},deleteNote:function(e,t){var o=e.commit;o("deleteNote",t)},addNewTodo:function(e,t){var o=e.commit,n=t.noteIndex,i=t.newTodo;o("addNewTodo",{noteIndex:n,newTodo:i})}},getters:{notes:function(e){return e.notes},getTodoById:function(e,t){var o=t-1;return e.notes[o]}}});n["a"].config.productionTip=!1,n["a"].directive("focus",{inserted:function(e){e.focus()}}),new n["a"]({router:L,store:V,render:function(e){return e(d)}}).$mount("#app")},"5c0b":function(e,t,o){"use strict";o("9c0c")},"65ea":function(e,t,o){"use strict";o("96b0")},"844d":function(e,t,o){"use strict";o("06af")},"96b0":function(e,t,o){},"9c0c":function(e,t,o){},e2d7:function(e,t,o){"use strict";o("e6e8")},e6e8:function(e,t,o){}});
//# sourceMappingURL=app.dc17f763.js.map